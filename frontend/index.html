<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ³ Tarif-e - AkÄ±llÄ± Mutfak AsistanÄ±</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>ğŸ³ Tarif-e</h1>
            <p class="subtitle">AkÄ±llÄ± Mutfak AsistanÄ±</p>
        </header>

        <!-- Ana MenÃ¼ -->
        <div id="main-menu" class="screen active">
            <div class="button-group">
                <button class="btn btn-primary" onclick="showScreen('camera-screen')" id="photo-menu-btn">
                    <span id="photo-icon">ğŸ“·</span>
                    <span id="photo-text">FotoÄŸraf Ã‡ek</span>
                </button>
                <button class="btn btn-secondary" onclick="showScreen('manual-screen')">
                    âœï¸ Manuel Ekle
                </button>
                <button class="btn btn-tertiary" onclick="showScreen('my-ingredients-screen')">
                    ğŸ—‚ï¸ Malzemelerim
                </button>
                <button class="btn" style="background: #F6AD55; color: white;" onclick="loadShoppingLists(); showScreen('shopping-lists-screen');">
                    ğŸ›’ AlÄ±ÅŸveriÅŸ Listelerim
                </button>
            </div>

            <div class="status-bar">
                <span id="ai-status">ğŸ¤– AI: Aktif</span>
                <button class="btn-settings" onclick="showScreen('settings-screen')">âš™ï¸</button>
            </div>
        </div>
        <!-- AlÄ±ÅŸveriÅŸ Listelerim EkranÄ± -->
        <div id="shopping-lists-screen" class="screen">
            <button class="btn-back" onclick="showScreen('main-menu')">â† Geri</button>

            <h2>ğŸ›’ AlÄ±ÅŸveriÅŸ Listelerim</h2>
            <div id="shopping-lists-container"></div>
        </div>

<!-- AlÄ±ÅŸveriÅŸ Listesi Detay EkranÄ± -->
<div id="shopping-detail-screen" class="screen">
    <button class="btn-back" onclick="showScreen('shopping-lists-screen')">â† Geri</button>

    <div id="shopping-detail-header"></div>
    <div id="shopping-detail-items"></div>

    <div style="margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
        <button class="btn" style="background: #48BB78; color: white;" onclick="showAddItemModal()">
            â• ÃœrÃ¼n Ekle
        </button>
        <button class="btn btn-success" id="complete-list-btn" onclick="completeShoppingList()">
            âœ… AlÄ±ÅŸveriÅŸi Tamamla
        </button>
        <button class="btn" style="background: #FC8181; color: white;" onclick="deleteShoppingList()">
            ğŸ—‘ï¸ Listeyi Sil
        </button>
    </div>
</div>

<!-- AlÄ±ÅŸveriÅŸ Listesine ÃœrÃ¼n Ekleme Modal -->
        <div id="add-item-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>ÃœrÃ¼n Ekle</h3>

                <div class="form-group">
                    <label>Malzeme AdÄ±:</label>
                    <input type="text" id="add-item-name" class="input" placeholder="Ã¶rn: yumurta">

                    <label>Miktar:</label>
                    <input type="number" id="add-item-amount" class="input" step="0.1" min="0" value="1">

                    <label>Birim:</label>
                    <select id="add-item-unit" class="input">
                        <option value="adet">Adet</option>
                        <option value="kg">Kilogram</option>
                        <option value="gram">Gram</option>
                        <option value="litre">Litre</option>
                        <option value="ml">Mililitre</option>
                        <option value="paket">Paket</option>
                        <option value="kutu">Kutu</option>
                        <option value="demet">Demet</option>
                    </select>

                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                        <button class="btn btn-success" onclick="addItemToShoppingList()">ğŸ’¾ Ekle</button>
                        <button class="btn btn-secondary" onclick="closeAddItemModal()">âŒ Ä°ptal</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Kamera EkranÄ± -->
        <!-- FotoÄŸraf Ã‡ek/YÃ¼kle EkranÄ± -->
        <div id="camera-screen" class="screen">
            <button class="btn-back" onclick="showScreen('main-menu')">â† Geri</button>

            <h2 id="camera-screen-title">ğŸ“· FotoÄŸraf Ã‡ek</h2>

            <div class="camera-container">
                <input
                    type="file"
                    id="photo-input"
                    accept="image/*"
                    capture="environment"
                    style="display: none;"
                    onchange="handlePhotoSelect(event)"
                >
                <label for="photo-input" class="camera-button" id="camera-label">
                    <span id="camera-label-icon">ğŸ“·</span>
                    <span id="camera-label-text">FotoÄŸraf Ã‡ek</span>
                </label>

                <div id="photo-preview" class="photo-preview"></div>
                <div id="detected-ingredients" class="detected-ingredients"></div>
            </div>

            <button id="get-recipe-btn" class="btn btn-success" onclick="getRecipeFromPhoto()" style="display: none;">
                ğŸ½ï¸ Tarif Ã–ner
            </button>
        </div>

        <!-- Manuel Ekleme EkranÄ± -->
        <div id="manual-screen" class="screen">
            <button class="btn-back" onclick="showScreen('main-menu')">â† Geri</button>
            
            <h2>Malzeme Ekle</h2>
            
            <div class="form-group">
                <input type="text" id="ingredient-name" placeholder="Malzeme adÄ± (Ã¶rn: domates)" class="input">
                <input type="number" id="ingredient-amount" placeholder="Miktar" class="input" value="1">
                <select id="ingredient-unit" class="input">
                    <option value="adet">Adet</option>
                    <option value="kg">Kilogram</option>
                    <option value="gram">Gram</option>
                    <option value="litre">Litre</option>
                    <option value="ml">Mililitre</option>
                </select>
                <button class="btn btn-primary" onclick="addManualIngredient()">â• Ekle</button>
            </div>

            <div id="manual-ingredients-list"></div>
        </div>

        <!-- Malzemelerim EkranÄ± -->
        <div id="my-ingredients-screen" class="screen">
            <button class="btn-back" onclick="showScreen('main-menu')">â† Geri</button>

            <h2>Malzemelerim</h2>
            <div id="my-ingredients-list" class="ingredients-list"></div>

            <button class="btn btn-success" onclick="getTarifFromMyIngredients()">
                ğŸ½ï¸ Bu Malzemelerden Tarif Ã–ner
            </button>
        </div>

        <!-- Malzeme DÃ¼zenleme Modal -->
        <div id="edit-ingredient-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h3>Malzeme DÃ¼zenle</h3>

                <div class="form-group">
                    <label>Malzeme:</label>
                    <input type="text" id="edit-ingredient-name" class="input" readonly>

                    <label>Miktar:</label>
                    <input type="number" id="edit-ingredient-amount" class="input" step="0.1" min="0">

                    <label>Birim:</label>
                    <select id="edit-ingredient-unit" class="input">
                        <option value="adet">Adet</option>
                        <option value="kg">Kilogram</option>
                        <option value="gram">Gram</option>
                        <option value="litre">Litre</option>
                        <option value="ml">Mililitre</option>
                    </select>

                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                        <button class="btn btn-success" onclick="saveIngredientUpdate()">ğŸ’¾ Kaydet</button>
                        <button class="btn btn-secondary" onclick="closeEditModal()">âŒ Ä°ptal</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tarif EkranÄ± -->
        <div id="recipe-screen" class="screen">
            <button class="btn-back" onclick="showScreen('main-menu')">â† Geri</button>
            
            <div id="recipe-content"></div>
        </div>

        <!-- Ayarlar EkranÄ± -->
        <div id="settings-screen" class="screen">
            <button class="btn-back" onclick="showScreen('main-menu')">â† Geri</button>
            
            <h2>âš™ï¸ Ayarlar</h2>
            
            <div class="settings-group">
                <h3>ğŸ¤– AI KullanÄ±m Modu</h3>
                <select id="ai-mode-select" class="input" onchange="updateAIMode()">
                    <option value="auto">Otomatik (Her zaman AI)</option>
                    <option value="manual">Manuel (AI kullanma)</option>
                    <option value="hybrid">Hibrit (GerektiÄŸinde)</option>
                    <option value="off">KapalÄ± (Sadece offline)</option>
                </select>
                <p class="help-text">Otomatik: En hÄ±zlÄ± ve kolay, internet gerekli</p>
            </div>

            <div class="settings-group">
                <h3>ğŸ”’ Gizlilik</h3>
                <label class="checkbox-label">
                    <input type="checkbox" id="data-sharing" checked>
                    Anonim kullanÄ±m verisi paylaÅŸ (uygulamayÄ± geliÅŸtirmek iÃ§in)
                </label>
            </div>

            <div class="settings-group">
                <h3>â„¹ï¸ Bilgiler</h3>
                <p>Versiyon: 0.1.0</p>
                <p>AI Kota: <span id="ai-quota">10</span> / ay (Free tier)</p>
            </div>
        </div>

        <!-- Loading -->
        <div id="loading" class="loading" style="display: none;">
            <div class="spinner"></div>
            <p>YÃ¼kleniyor...</p>
        </div>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
